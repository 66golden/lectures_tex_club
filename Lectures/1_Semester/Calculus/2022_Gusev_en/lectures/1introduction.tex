\section{Introduction}

\subsection{Quantifiers}
\df{$\forall x \; P(x)$}{for all $x$ $P(x)$ is true.}
\df{$\exists x \; P(x)$}{exists $x$ such that $P(x)$ is true.}
\df{$\exists! x \; P(x)$}{exists unique $x$ such that $P(x)$ is true.
\[ \exists! x \; P(x) \defev \exists x \; P(x) \wedge (\forall y \; P(y) \Rightarrow y = x) \]
\[ \overline{\forall x \; P(x)} \Leftrightarrow \exists x \; \overline{P(x)} \]
\[ \overline{\exists x \; P(x)} \Leftrightarrow \forall x \; \overline{P(x)} \]
}

\begin{equation}
    \forall x \in A \;   P(x) \defev \forall x \left( x \in A \Rightarrow P(x) \right)
\end{equation}

\begin{example}
    \[ \forall x \in \mathbb{R} \; \exists n \in \mathbb{N} \; n > x \text{ -- true} \]
    \[ \exists n \in \mathbb{N} \; \forall x \in \mathbb{R} \; n > x \text{ -- false} \]
\end{example}

\subsection{Simple derivative definition}
\begin{definition}
$f'(x)$ is a derivative of function $f(x)$ if
\[ P(\varepsilon, \delta) = (0 < \abs{h} < \delta) \Rightarrow \abs{\frac{f(x + h) - f(x)}{h} - f'(x)} < \varepsilon \]
\[ \forall \varepsilon > 0 \; \exists \delta > 0: P(\varepsilon, \delta) \]
\end{definition}

\begin{example} $ f(x) = x^2 \thus f'(x) = 2x $ \end{example}

\begin{proof}
    \[ \frac{f(x + h) - f(x)}{h} = \frac{x ^ 2 + 2h + h^2 - x^2}{h} = 2x + h \]
    Check if $f'(x) = 2x$:
    \[ \forall \varepsilon > 0 \; \exists \delta > 0: (0 < \abs{h} < \delta) \Rightarrow \abs{2x + h - 2x} < \varepsilon \]

    Suppose $\delta = \frac{\varepsilon}{2}$ then $\abs{2x + h - 2x} < \frac{\varepsilon}{2} < \varepsilon$.
\end{proof}

\subsection{Set theory}
\df{Cartesian product of sets $X$ and $Y$}{set which consists of all pairs of elements $(x, y)$ such that $x \in X$\!, $y \in Y$\!.
\[ X \times Y \defeq \{(x, y) \; \vert \; x \in X, y \in Y\} \]
}
\begin{equation}
    X^2 \defeq X \times X
\end{equation}

\begin{equation}
    Y \subseteq X \defev \forall y \; (y \in Y \Rightarrow x \in X)
\end{equation}

\begin{equation}
    2^{X} \defeq \{ Y \sconstr Y \subseteq X \}
\end{equation}

\begin{example} $ X = \{1, 2\} \thus 2^X = \{\emptyset, \{1\}, \{2\}, \{1, 2\}\} $ \end{example}

\df{Homogeneous relation over set $X$}{any set $R \subseteq X^2$. \guillemotleft $x$ and $y$ are in relation $R$\guillemotright $\;\defev (x, y) \in R \defev x \; R \; y$.}

\begin{definition}
If $X$, $Y$ -- sets and $\Gamma \subseteq X \times Y$ such that $\forall x \in X \; \exists! y \in Y : (x, y) \in \Gamma$, then $f \defeq (X, Y, \Gamma)$, $f{:}\; X \rightarrow Y$, $f{:}\; x \rightarrow f(x)$, $f{:}\; X \ni x \rightarrow f(x) \in Y$.

\[ (y = f(x)) \defev (x \in X \lor y \in Y \lor (x, y) \in \Gamma) \]
\end{definition}

If $f{:}\; X \times Y \rightarrow Z$, then $\forall x \in X, y \in Y f(x, y) \defeq f((x, y))$.


\subsection{Axiomatization of the reals}
\df{Set of rational numbers $\RR$, operations $\fnis{+} \RR^2 \rightarrow \RR$, $\fnis{\cdot} \RR^2 \rightarrow \RR$ and homogeneous relation $\le \; \subseteq \RR^2$}{a set, operations $+$ and $\cdot$ and a relation $\le$ such that the following axioms are true:
\begin{enumerate}
    \setcounter{enumi}{-1}
    \item $a + b \defev +(a, b)$; $a \cdot b \defev \cdot(a, b)$; $x < y \defev (x \le y) \land (x \ne y)$; \ldots
    \item $\exists 0 \in \RR : \forall x \in \RR \; 0 + x = x + 0 = x$ 
    \item $\forall x \in \RR \; \exists (-x) \in \RR : x + (-x) = (-x) + x = 0$ 
    \item $\forall x, y, z \in \RR \; x + (y + z) = (x + y) = z$ % ассоциативность 
    \item $\forall x, y \in \RR \; x + y = y + x$ % коммутативность 
    \item $\exists 1 \in \RR \setminus \{0\} : \forall x \in \RR \; 1 \cdot x = x \cdot 1 = 1$
    \item $\forall x \in \RR \setminus \{0\} \; \exists x^{-1} \in \RR : x \cdot x^{-1} = x^{-1} x = 1$
    \item $\forall x, y, z \in \RR \; x \cdot (y \cdot z) = (x \cdot y) \cdot z$
    \item $\forall x, y \in \RR \; x \cdot y = y \cdot x$
    \item $\forall x, y, z \in \RR \; (x + y) \cdot z = x \cdot z + y \cdot z$ % дистрибутивность
    \item $\forall x \in \RR \; x \le x$
    \item $\forall x, y \in \RR \; (x \le y) \land (y \le x) \Rightarrow (x = y)$
    \item $\forall x, y, z \in \RR \; (x \le y) \land (y \le z) \Rightarrow (x \le z)$
    \item $\forall x, y \in \RR \; (x \le y) \lor (y \le x)$
    \item $\forall x, y, z \in \RR \; (x \le y) \Rightarrow (x + z \le y + z)$
    \item $\forall x, y \in \RR \; (0 \le x) \land (0 \le y) \Rightarrow (0 \le x \cdot y)$
    \item $\forall X, Y \subseteq \RR : (\forall x \in X \; \forall y \in Y \; x \le y) \; \exists c \in \RR : (\forall x \in X \; \forall y \in Y \; x \le c \le y)$
\end{enumerate}
}

\begin{theorem}
    $\exists!0$.
\end{theorem}
\begin{proof}
    Suppose $0_1$ and $0_2$ are different neutral elements. $0_1 + 0_2 = 0_2$ by the first axiom as $0_1$ is neutral and $0_1 + 0_2 = 0_1$ as $0_2$ is neutral. Then, $0_1 + 0_2 = 0_2 = 0_1$ -- contradiction.
\end{proof}

\begin{theorem}
    $\exists! (-x): x + (-x) = 0$.
\end{theorem}
\begin{proof}
    Let $a \ne b \in \RR$ and $a + x = x + a = 0$, $b + x = x + b = 0$.
    \begin{align*}
        0 = x + a &= x + b = 0 \\
        \underline{a + x} + a &= \underline{a + x} + b \\
        0 + a &= 0 + b \\
        a &= b
    \end{align*}
\end{proof}

\begin{theorem}
    $\forall a, b \in \RR$ the equation $a + x = b$ has an unique solution $x \in \RR$, $x = (-a) + b$.
\end{theorem}
\begin{proof}
    From two previous theorems we have enough uniqueness constraints to just solve the equation via rules from the 2$^{\rm nd}$ grade.
\end{proof}

\begin{theorem} $ \forall x \in \RR \; 0 \cdot x = 0 $ \end{theorem}
\begin{proof}
    \begin{gather*}
        0 \cdot x = (0 + 0) \cdot x = 0 \cdot x + 0 \cdot x \\
        -(0 \cdot x) + 0 \cdot x = -(0 \cdot x) + 0 \cdot x + 0 \cdot x \\
        0 = 0 + 0 \cdot x \\
        0 = 0 \cdot x
    \end{gather*}
\end{proof}

\begin{theorem} $\forall x \in \RR \; (-x) = (-1) \cdot x$ \end{theorem}
\begin{proof}
    \begin{align*}
        0 &= 0 \\
        x + (-x) &= x \cdot 0 \\
        x + (-x) &= x \cdot (1 + (-1)) \\
        x + (-x) &= x + (-1) \cdot x \\
        (-x) &= (-1) \cdot x
    \end{align*}
\end{proof}

\begin{theorem} $0 < 1$ \end{theorem}
\begin{proof}
    Suppose $1 \le 0$, then (axiom 14) $1 + (-1) \le 0 + (-1)$ or $0 \le -1$. Via axiom 15 $0 \le (-1) \cdot (-1)$ or (by the previous theorem) $0 \le 1$ -- contradiction as $0 \ne 1$.
\end{proof}

For $\mathcal{F}$ -- an arbitrary family of sets
\begin{equation}
    \cap \mathcal{F} \defeq \{ x \sconstr \forall A \in \mathcal{F} : x \in A\}
\end{equation}
\begin{equation}
    \cup \mathcal{F} \defeq \{ x \sconstr \exists A \in \mathcal{F} : x \in A\}
\end{equation}

\df{Inductive set $X$}{$X \in \RR$ satisfying the following properties:
\begin{enumerate}
    \item $1 \in X$
    \item $\forall x \in X \; 1 + x \in X$
\end{enumerate}
}

\begin{equation}
\begin{gathered}
    \mathcal{F} \defeq \{ A \subseteq \RR \sconstr A \text{ is inductive} \} \\    
    \NN \defeq \cup \mathcal{F}
\end{gathered}
\end{equation}

\begin{theorem}
    \label{inductivesubset}
    Let $\mathcal{G}$ be a family of subsets of $\RR$ and $\forall A \in \mathcal{G}$ $A$ is inductive, then $\cap \mathcal{G}$ is also inductive.
\end{theorem}
\begin{proof}
    $M \defeq \cap \mathcal{G}$
    \begin{enumerate}
        \item $\forall X \in \mathcal{G} \; 1 \in X \thus 1 \in M$
        \item $x \in M \thus \forall X \in \mathcal{G} \; x \in A \thus \forall X \in \mathcal{G} \; (x + 1) \in A \thus (x + 1) \in M$
    \end{enumerate}
\end{proof}

\begin{theorem}
    $ \NN\text{ is an inductive subset of } \RR;\ \nexists A \subsetneq \NN, A \text{ is inductive}$.
\end{theorem}
\begin{proof}\phantom\\
    \begin{enumerate}
        \item $\NN$ is inductive by (\ref{inductivesubset})
        \item By set union definition we get $\forall A \in \mathcal{F} \; \NN \subseteq A$. No set can satisfy both $X \subsetneq Y$ and $Y \subseteq X$.
    \end{enumerate}
\end{proof}

\begin{theorem} (Mathematical induction)
    If $M \subseteq \NN$, $1 \in M$ and $\forall n \in M \; n + 1 \in M$, then $M = \NN$.
    \label{minduction}
\end{theorem}
\begin{proof}
    $M$ satisfies the definition of an inductive subset of $\RR \thus \NN \subseteq M$ but ${M \subseteq \NN} \thus {\NN = M}$.
\end{proof}

\begin{theorem}
    $ \forall x \in \NN \; x \ge 1 $
\end{theorem}
\begin{proof}
    Suppose $\exists x \in N : x < 1$. Pick an arbitrary set $A \in \mathcal{F}$ and construct $B \defeq \{b \sconstr b \in A, b > x\}$. $1 \in B$ because $1 \in A$ and $x < 1$, $\forall c \in B \; (1 + c) \in A$ and, as $(1 + c) > (1 + x) > x$, $(1 + c) \in B$ $\thus B \in \mathcal{F}$. $x \notin B \thus x \notin \NN$ -- contradiction.
\end{proof}

\begin{theorem}
    $ \forall m, n \in \NN \; m + n \in \NN,\ m \cdot n \in \NN$
\end{theorem}
\begin{proof}
    Construct $M_1 \defeq \{x \sconstr x \in \NN,\; (m + x) \in \NN\}$. Obviously, $M_1$ satisfies requirements of \ref{minduction} $\thus M_1 = \NN \thus n \in M_1 \thus m + n \in \NN$.

    Construct $M_2 \defeq \{x \sconstr x \in \NN,\; m \cdot x \in \NN\}$. If $x \in M_2$, then $m \cdot (x + 1) = m \cdot x + m \in \NN$ (by part 1 as $x \in M_2 \Rightarrow m \cdot x \in \NN$, $m \in \NN$). Thus, $M_2$ satisfies requirements of \ref{minduction} $\thus M_2 = \NN \thus n \in M_2 \thus m \cdot n \in \NN$.
\end{proof}

\subsection{Supremum and infimum}

For $A \subseteq R$
\begin{gather}
    x \text{ is an upper bound of $A$} \defev \forall y \in A \; y \le x \\
    x \text{ is an lower bound of $A$} \defev \forall y \in A \; x \le y
\end{gather}
\df{Bounded above set}{a set which does have upper bound.}
\df{Unbounded above set}{a set which does not have upper bound.}
\df{Bounded below set}{a set which does have lower bound.}
\df{Unbounded below set}{a set which does not have lower bound.}
\df{Bounded set}{a set which does have upper and lower bound.}
\df{Unbounded set}{a set which does not have upper and lower bound.}

For bounded above/below set $A$
\begin{gather}
    \sup{A} = x \defev \nexists y < x : y \text{ is an upper bound of } A \\
    \inf{A} = x \defev \nexists y > x : y \text{ is an lower bound of } A
\end{gather}

For unbounded above/below set $A$
\begin{gather}
    \sup{A} = +\infty \\
    \inf{A} = -\infty
\end{gather}

$\sup{A}$ is also called a supremum of $A$ or the exact upper bound of $A$. $\inf{A}$ is also called an infimum of $A$ or the exact lower bound of $A$.

\begin{theorem}
\label{supremumexun}
    (Existence of supremum) For a bounded above set $A \subseteq \RR$ $\exists! \sup{A}$.
\end{theorem}
\begin{proof}
    Construct $B \defeq \{b \in \RR \sconstr b \text{ -- upper bound of $A$}\} $.

    $\forall a \in A \; b \in B \; a \le b \thus \text{(axiom 16) } {\exists s \in \RR : \forall a \in A \; b \in B \; a \le s \le b} \thus {s \in B}$.

    Suppose $\sup{A} < s$, then $\sup{A} \in B \thus s \le m$ -- contradiction $\thus \sup{A} = s$.

    Suppose $x : \sup{A} = x, x \ne s \thus x \in B \thus s < x$, but $\forall y < x$ $y$ must not be an upper bound $\thus s $ is not an upper bound -- contradiction.
\end{proof}

\begin{theorem}
    (Archimedean principle) $\forall x \in \RR \; \exists n \in \NN \; n > x$
\end{theorem}
\begin{proof}
    Suppose $\overline{\forall x \in \RR \; \exists n \in \NN \; n > x} \Leftrightarrow \exists x \in \RR \; \forall n \in \NN \; n \le x \thus \NN$ is bounded above. By \ref{supremumexun} $\exists! s \in \RR, s = \sup{\NN} \thus (s - 1) \text{ is not an upper bound of $\NN$} \thus \exists m \in \NN : m > s - 1 \hm{\thus} m + 1 > s \thus (m + 1) \notin \NN$ -- contradiction as $\NN$ is inductive.
\end{proof}

\begin{note}
    If $A \subseteq \R$, then $\sup{A}$ might either $\in A$ or $\notin A$.
\end{note}

\begin{theorem}
    sup B = inf A
\end{theorem}

\subsection{Limit of sequence}
\begin{equation}
    \begin{gathered}
        \fnis{x} \NN \rightarrow \RR \text{ -- sequence} \\
        \forall n \in \NN : x_n \defeq x(n) \text{ -- $n^{\rm th}$ element of a sequence}
    \end{gathered}
\end{equation}

For sequence $x(n)$
\begin{equation}
    \lim_{n \to \infty} x(n) \defev a \in \RR,\; \forall \varepsilon > 0 \; \exists N \in \NN \; \forall n \ge N \; \abs{x_n - a} < \varepsilon
\end{equation}
$\lim_{n \rightarrow \infty} x(n)$ is called the limit of a sequence.

\begin{equation}
    U_\varepsilon(a) \defeq \left(a - \varepsilon;\; a + \varepsilon\right); \quad
    U_\varepsilon(+\infty) \defeq \left(\frac{1}{\varepsilon};\; +\infty\right); \quad
    U_\varepsilon(-\infty) \defeq \left(-\infty;\; -\frac{1}{\varepsilon}\right)
\end{equation}

\df{Infinitesimal sequence}{a sequence with $\limpinf x(n) = 0$.}

\begin{theorem}
    For a sequence $a(n)$ $\exists$ no more than one $x \in R : \lim_{n \rightarrow \infty} a(n) = x$.
\end{theorem}
\begin{proof}
    Suppose there are $x \ne y$, $\lim_{n \rightarrow \infty} a(n) = x$, $\lim_{n \rightarrow \infty} a(n) = y$. Let $\varepsilon = \frac{\abs{b - a}}{2}$, then $U_\varepsilon(a) \cup U_\varepsilon(b) = \varnothing$ (as ...).

    \begin{multline*}
        \begin{rcases*}
            \exists N_1 : \forall n \ge N_1 \; x_n \in U_\varepsilon(a) \\
            \exists N_2 : \forall n \ge N_2 \; x_n \in U_\varepsilon(b)
        \end{rcases*}
        \thus \forall n \ge \max(N_1, N_2) \; x_n \in U_\varepsilon(a) \land x_n \in U_\varepsilon(b)
        \thus \\ x_n \in U_\varepsilon(a) \cup U_\varepsilon(b)
        \thus x_n \in \varnothing \text{ -- contradiction}
    \end{multline*}
\end{proof}

\begin{theorem}
    Для числовых последовательностей $\{ a_n \}$ и $\{ b_n \}$ таких, что $ \exists m \in \N : b_n = a_{n + m}$
    \[ \lim_{n \to \infty} a_n = \lim_{n \to \infty} b_n \]
\end{theorem}
\begin{proof}
    \begin{multline*}
        \lim_{n \to \infty} a_n = p \thus
        \forall \epsilon > 0 \ \exists N \in \N: (\forall n \ge N\ a_n \in U_\epsilon(p)) \thus \\
        \thus (\forall n \ge N\ b_n \in U_\epsilon(p)) \thus
        \lim_{n \to \infty} b_n = p
    \end{multline*}
    \[ \forall \epsilon > 0 \ \exists N : (\forall n \ge N\ b_n \in U_\epsilon(a)) \thus (\forall n \ge N\ a_{n + m} \in U_\epsilon(a)) \thus (\forall n \ge N + m \ a_{n} \in U_\epsilon(a)) \]
\end{proof}

\df{Сходящаяся последовательность}{последовательность, у которой существует конечный предел.}

\begin{theorem}
    Сходящаяся последовательность ограничена.
    \label{limit_means_bounds}
\end{theorem}
\begin{proof}
    \begin{multline*}
        \limpinf a_n = b \thus
        \exists N \in \N: \forall n \ge N\ a_n \in U_1(b) \thus \\
        \thus \sup(a_n) = \max(\{a_i\}_{i=1}^{N - 1}, \sup(\{a_i\}_{i=N}^{+\infty})) \le
        \max(\{a_i\}_{i=1}^{N - 1}, b + 1) \ne +\infty
    \end{multline*}
    Аналогично для нижней грани.
\end{proof}

\begin{theorem}
    Пусть $\limpinf a_n = a$, $\limpinf b_n = b$, тогда
    \begin{gather*}
        a < b \Rightarrow \exists N \in \N\ \forall n > N\ a_n < b_n \\
        \exists N \in \N\ \forall n > N\ a_n \le b_n \Rightarrow a \le b
    \end{gather*}
\end{theorem}
\begin{proof}
    \begin{multline*}
        \begin{rcases}
            \exists N_1 \in \N\ \forall n > N_1\ a_n < a + \frac{b - a}{2} \\
            \exists N_2 \in \N\ \forall n > N_2\ b_n > b - \frac{b - a}{2}
        \end{rcases} \thus \\
        \thus \forall n > \max(N_1, N_2)\ \left(a_n < a + \frac{b - a}{2} = b - \frac{b - a}{2} < b_n \thus
                a_n < b_n\right)
    \end{multline*}
    % TODO prove second case by contradition
\end{proof}

\begin{theorem}
    (Теорема о двух миллиционерах) Для последовательностей $a_n$, $b_n$, $c_n$
    \[ \exists N \in \N: \forall n > N\ a_n \le c_n \le b_n, \limpinf a_n = \limpinf b_n = a \thus \limpinf c_n = a \]
\end{theorem}
\begin{proof}
    \begin{multline*}
        \forall \varepsilon > 0\ 
        \begin{rcases}
            \exists N_1 \in \N\ \forall n > N_1\ a_n > a - \varepsilon \\
            \exists N_2 \in \N\ \forall n > N_2\ b_n < a + \varepsilon
        \end{rcases} \thus \\
        \thus \forall n > \max(N_1, N_2, n)\ a_n > a - \varepsilon, b_n < a + \varepsilon, a_n < c_n < b_n \thus \\
        \thus c_n \in U_\varepsilon(a) \thus
        \limpinf c_n = a
    \end{multline*}
\end{proof}

\begin{theorem}
    Для любой последовательности $c_n$ и бесконечно малой $\alpha_n$ 
    \[ \exists N \in \N: \forall n > N\ \abs{c_n} \le \alpha_n \thus \limpinf c_n = 0 \]
\end{theorem}
\begin{proof}
    % TODO
\end{proof}

\begin{theorem}
    $\forall q : \abs{q} \le 1 \thus \limpinf{q^n} = 0$
\end{theorem}
\begin{proof}
    % TODO
\end{proof}


\begin{theorem}
    Если для последовательностей $a_n$ и $b_n$ $\limpinf a_n = a$, $\limpinf b_n = b$,
    \[ \limpinf a_n \pm b_n = a \pm b, \limpinf a_n \cdot b_n = a \cdot b \]
    \[ \forall n \in \N\ b_n \ne 0, b \ne 0 \thus \limpinf \frac{a_n}{b_n} = \frac{a}{b} \]
\end{theorem}
\begin{proof}
    \begin{multline*}
        \forall \varepsilon > 0\ 
        \begin{rcases}
            \exists N_1 \in \N\ \forall n > N_1\ \abs{a_n - a} < \frac{\varepsilon}{2} \\
            \exists N_2 \in \N\ \forall n > N_2\ \abs{b_n - b} < \frac{\varepsilon}{2}
        \end{rcases} \thus \\
        \thus \forall n > \max(N_1, N_2)\ \abs{(a_n + b_n) - (a - b)} <
        \abs{a_n - a} + \abs{b_n - b} < \varepsilon \thus \\
        \thus \limpinf{a_n + b_n} = a + b
    \end{multline*}
    По теореме \ref{limit_means_bounds} $\exists C : \forall n\in\N\ \abs{a_n} < C, \abs{b_n} < C$.
    \begin{multline*}
        \forall \varepsilon > 0\ 
        \begin{rcases}
            \exists N_1 \in \N\ \forall n > N_1\ \abs{a_n - a} < \frac{\varepsilon}{2C} \\
            \exists N_2 \in \N\ \forall n > N_2\ \abs{b_n - b} < \frac{\varepsilon}{2C}
        \end{rcases} \thus \\
        \thus \forall n > \max(N_1, N_2)\ \abs{a_n b_n - ab} = \abs{a_n b_n - a_n b + a_n b - ab} \le \\
        \le \abs{a_n} \abs{b_n - b} + \abs{b} \abs{a_n - a} <
        C \frac{\varepsilon}{2C} + C \frac{\varepsilon}{2C} = \varepsilon \thus
        \limpinf{a_n b_n} = a b
    \end{multline*}

    TODO % Доказать, что модуль больше b/2 => расписываем формулу разности и всё сокращается
    \begin{multline*}
        \forall \varepsilon > 0 \exists N_1 \in \N\ \forall n > N_1\ \abs{b_n - b} < \frac{\varepsilon}{2C} \\
    \end{multline*}
     
\end{proof}

\begin{theorem}
    бесконечно малая * ограниченная = бесконечно малая
\end{theorem}
